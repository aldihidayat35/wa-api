<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Multi-Session Dashboard | Metronic 8</title>
    <link rel="shortcut icon" href="assets/media/logos/favicon.ico" />
    
    <!-- Metronic 8 Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700" />
    
    <!-- Metronic 8 Global Plugins Bundle -->
    <link href="assets/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
    
    <!-- Metronic 8 Global Styles Bundle -->
    <link href="assets/css/style.bundle.css" rel="stylesheet" type="text/css" />
    
    <!-- Custom Styles for WhatsApp -->
    <style>
        .qr-code canvas { display: block !important; margin: 0 auto; }
        .session-badge { font-size: 0.85rem; padding: 0.35rem 0.75rem; }
        .pairing-code-text { font-size: 2rem; font-weight: 700; letter-spacing: 8px; color: #009ef7; }
        .whatsapp-color { background-color: #25D366 !important; }
        .status-dot-connected { width: 10px; height: 10px; background: #50cd89; border-radius: 50%; display: inline-block; animation: pulse 2s infinite; }
        .status-dot-disconnected { width: 10px; height: 10px; background: #f1416c; border-radius: 50%; display: inline-block; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .activity-log { max-height: 400px; overflow-y: auto; }
    </style>
</head>
<body id="kt_app_body" data-kt-app-layout="dark-sidebar" data-kt-app-header-fixed="true" data-kt-app-sidebar-enabled="true" data-kt-app-sidebar-fixed="true" data-kt-app-sidebar-hoverable="true" data-kt-app-sidebar-push-header="true" data-kt-app-sidebar-push-toolbar="true" data-kt-app-sidebar-push-footer="true" data-kt-app-toolbar-enabled="true" class="app-default">
    
    <!--begin::App-->
    <div class="d-flex flex-column flex-root app-root" id="kt_app_root">
        <!--begin::Page-->
        <div class="app-page flex-column flex-column-fluid" id="kt_app_page">
            
            <!-- Header Component akan dimuat di sini -->
            <div id="header-container"></div>
            
            <!--begin::Wrapper - kt_app_wrapper-->
            <div class="app-wrapper flex-column flex-row-fluid" id="kt_app_wrapper">
                
                <!-- Sidebar Component akan dimuat di sini -->
                <div id="sidebar-container"></div>
                
                <!--begin::Main - kt_app_main-->
                <div class="app-main flex-column flex-row-fluid" id="kt_app_main">
                    <!--begin::Content wrapper-->
                    <div class="d-flex flex-column flex-column-fluid">
                        
                        <!--begin::Toolbar - kt_app_toolbar-->
                        <div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
                            <div id="kt_app_toolbar_container" class="app-container container-xxl d-flex flex-stack">
                                <div class="page-title d-flex flex-column justify-content-center flex-wrap me-3">
                                    <h1 class="page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0">WhatsApp Multi-Session Manager</h1>
                                    <ul class="breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1">
                                        <li class="breadcrumb-item text-muted"><a href="index.html" class="text-muted text-hover-primary">Home</a></li>
                                        <li class="breadcrumb-item"><span class="bullet bg-gray-400 w-5px h-2px"></span></li>
                                        <li class="breadcrumb-item text-muted">Dashboard 123</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!--end::Toolbar-->
                        
                        <!--begin::Content - kt_app_content-->
                        <div id="kt_app_content" class="app-content flex-column-fluid">
                            <div id="kt_app_content_container" class="app-container container-xxl">
                                
                                <!--begin::Row 1 - Session Manager & Connection-->
                                <div class="row g-5 g-xl-10 mb-5 mb-xl-10">
                                    
                                    <!--begin::Col - Session Manager-->
                                    <div class="col-xl-6">
                                        <div class="card card-flush h-xl-100">
                                            <div class="card-header pt-7">
                                                <h3 class="card-title align-items-start flex-column">
                                                    <span class="card-label fw-bold text-dark">ðŸ”§ Session Manager</span>
                                                    <span class="text-muted mt-1 fw-semibold fs-7">Create and manage WhatsApp sessions</span>
                                                </h3>
                                            </div>
                                            <div class="card-body pt-6">
                                                <div class="mb-10">
                                                    <label class="form-label fw-semibold text-dark fs-6">New Session ID</label>
                                                    <div class="input-group mb-3">
                                                        <input type="text" id="new-session-id" class="form-control form-control-lg form-control-solid" placeholder="e.g., session1, wa-bot" autocomplete="off" />
                                                        <button id="btn-create-session" class="btn btn-primary">
                                                            <span class="svg-icon svg-icon-2"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><rect opacity="0.5" x="11.364" y="20.364" width="16" height="2" rx="1" transform="rotate(-90 11.364 20.364)" fill="currentColor"/><rect x="4.36396" y="11.364" width="16" height="2" rx="1" fill="currentColor"/></svg></span>
                                                            Create
                                                        </button>
                                                    </div>
                                                    <div class="form-text">Create unique ID for each WhatsApp account</div>
                                                </div>
                                                
                                                <div id="sessions-list">
                                                    <div class="text-center text-muted py-10">
                                                        <div class="mb-5"><span class="svg-icon svg-icon-5tx svg-icon-muted"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path opacity="0.3" d="M21.25 18.525L13.05 21.825C12.35 22.125 11.65 22.125 10.95 21.825L2.75 18.525C1.75 18.125 1.75 16.725 2.75 16.325L4.04999 15.825L10.25 18.325C10.85 18.525 11.45 18.625 12.05 18.625C12.65 18.625 13.25 18.525 13.85 18.325L20.05 15.825L21.35 16.325C22.35 16.725 22.35 18.125 21.25 18.525ZM13.05 16.425L21.25 13.125C22.25 12.725 22.25 11.325 21.25 10.925L13.05 7.62502C12.35 7.32502 11.65 7.32502 10.95 7.62502L2.75 10.925C1.75 11.325 1.75 12.725 2.75 13.125L10.95 16.425C11.65 16.725 12.45 16.725 13.05 16.425Z" fill="currentColor"/><path d="M11.05 11.025L2.84998 7.725C1.84998 7.325 1.84998 5.925 2.84998 5.525L11.05 2.225C11.75 1.925 12.45 1.925 13.15 2.225L21.35 5.525C22.35 5.925 22.35 7.325 21.35 7.725L13.05 11.025C12.45 11.325 11.65 11.325 11.05 11.025Z" fill="currentColor"/></svg></span></div>
                                                        <p class="fw-semibold fs-6">No sessions yet. Create one above.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--end::Col-->
                                    
                                    <!--begin::Col - Connection Panel-->
                                    <div class="col-xl-6">
                                        <div class="card card-flush h-xl-100">
                                            <div class="card-header pt-7">
                                                <h3 class="card-title align-items-start flex-column">
                                                    <span class="card-label fw-bold text-dark">ðŸ”Œ Connection</span>
                                                    <span class="text-muted mt-1 fw-semibold fs-7">Connect your WhatsApp session</span>
                                                </h3>
                                            </div>
                                            <div class="card-body pt-6">
                                                
                                                <div class="mb-5">
                                                    <label class="form-label fw-semibold">Select Active Session</label>
                                                    <select id="session-selector" class="form-select form-select-solid" disabled>
                                                        <option value="">No sessions available</option>
                                                    </select>
                                                </div>
                                                
                                                <div id="status-indicator" class="alert alert-danger d-flex align-items-center p-5 mb-10">
                                                    <span class="status-dot-disconnected me-3"></span>
                                                    <div class="d-flex flex-column">
                                                        <h4 class="mb-1 text-dark" id="status-text">Disconnected</h4>
                                                        <span>Select a session and connect</span>
                                                    </div>
                                                </div>
                                                
                                                <div id="connection-panel">
                                                    <ul class="nav nav-tabs nav-line-tabs mb-5 fs-6">
                                                        <li class="nav-item">
                                                            <a class="nav-link active" data-bs-toggle="tab" href="#qr-tab">ðŸ“· QR Code</a>
                                                        </li>
                                                        <li class="nav-item">
                                                            <a class="nav-link" data-bs-toggle="tab" href="#pairing-tab">ðŸ”— Pairing Code</a>
                                                        </li>
                                                    </ul>
                                                    
                                                    <div class="tab-content" id="myTabContent">
                                                        <div class="tab-pane fade show active" id="qr-tab" role="tabpanel">
                                                            <div class="text-center mb-10">
                                                                <div id="qr-placeholder" class="py-10">
                                                                    <span class="svg-icon svg-icon-5tx svg-icon-muted mb-5"><svg xmlns="http://www.w3.org/2000/svg" width="150" height="150" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg></span>
                                                                    <p class="text-muted fw-semibold">Click "Connect with QR" to generate code</p>
                                                                </div>
                                                                <div id="qr-code" class="qr-code" style="display: none;"></div>
                                                            </div>
                                                            <button id="btn-qr" class="btn btn-primary w-100">
                                                                <span class="svg-icon svg-icon-2"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.2929 2.70711C11.6834 2.31658 12.3166 2.31658 12.7071 2.70711L15.2929 5.29289C15.6834 5.68342 15.6834 6.31658 15.2929 6.70711L12.7071 9.29289C12.3166 9.68342 11.6834 9.68342 11.2929 9.29289L8.70711 6.70711C8.31658 6.31658 8.31658 5.68342 8.70711 5.29289L11.2929 2.70711Z" fill="currentColor"/><path d="M11.2929 14.7071C11.6834 14.3166 12.3166 14.3166 12.7071 14.7071L15.2929 17.2929C15.6834 17.6834 15.6834 18.3166 15.2929 18.7071L12.7071 21.2929C12.3166 21.6834 11.6834 21.6834 11.2929 21.2929L8.70711 18.7071C8.31658 18.3166 8.31658 17.6834 8.70711 17.2929L11.2929 14.7071Z" fill="currentColor"/><path opacity="0.3" d="M5.29289 8.70711C5.68342 8.31658 6.31658 8.31658 6.70711 8.70711L9.29289 11.2929C9.68342 11.6834 9.68342 12.3166 9.29289 12.7071L6.70711 15.2929C6.31658 15.6834 5.68342 15.6834 5.29289 15.2929L2.70711 12.7071C2.31658 12.3166 2.31658 11.6834 2.70711 11.2929L5.29289 8.70711Z" fill="currentColor"/><path opacity="0.3" d="M17.2929 8.70711C17.6834 8.31658 18.3166 8.31658 18.7071 8.70711L21.2929 11.2929C21.6834 11.6834 21.6834 12.3166 21.2929 12.7071L18.7071 15.2929C18.3166 15.6834 17.6834 15.6834 17.2929 15.2929L14.7071 12.7071C14.3166 12.3166 14.3166 11.6834 14.7071 11.2929L17.2929 8.70711Z" fill="currentColor"/></svg></span>
                                                                Connect with QR Code
                                                            </button>
                                                        </div>
                                                        
                                                        <div class="tab-pane fade" id="pairing-tab" role="tabpanel">
                                                            <div class="mb-10">
                                                                <label class="form-label fw-semibold">Phone Number (with country code)</label>
                                                                <input type="text" id="phone-number" class="form-control form-control-solid form-control-lg" placeholder="e.g., 628123456789" autocomplete="off" />
                                                                <div class="form-text">Enter phone number without + or spaces</div>
                                                            </div>
                                                            
                                                            <div id="pairing-code-display" class="text-center mb-10" style="display: none;">
                                                                <label class="form-label">Your Pairing Code:</label>
                                                                <div class="bg-light-primary p-5 rounded">
                                                                    <div class="pairing-code-text" id="pairing-code">--------</div>
                                                                </div>
                                                                <small class="text-muted">Enter this in WhatsApp > Linked Devices</small>
                                                            </div>
                                                            
                                                            <button id="btn-pairing" class="btn btn-primary w-100">
                                                                <span class="svg-icon svg-icon-2"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path opacity="0.3" d="M21.25 18.525L13.05 21.825C12.35 22.125 11.65 22.125 10.95 21.825L2.75 18.525C1.75 18.125 1.75 16.725 2.75 16.325L4.04999 15.825L10.25 18.325C10.85 18.525 11.45 18.625 12.05 18.625C12.65 18.625 13.25 18.525 13.85 18.325L20.05 15.825L21.35 16.325C22.35 16.725 22.35 18.125 21.25 18.525ZM13.05 16.425L21.25 13.125C22.25 12.725 22.25 11.325 21.25 10.925L13.05 7.62502C12.35 7.32502 11.65 7.32502 10.95 7.62502L2.75 10.925C1.75 11.325 1.75 12.725 2.75 13.125L10.95 16.425C11.65 16.725 12.45 16.725 13.05 16.425Z" fill="currentColor"/></svg></span>
                                                                Get Pairing Code
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div id="user-info" class="alert alert-success d-flex align-items-center p-5 mt-10" style="display: none !important;">
                                                    <div class="symbol symbol-50px me-5">
                                                        <span class="symbol-label bg-light-success"><span id="user-initial" class="fw-bold text-success fs-2x">?</span></span>
                                                    </div>
                                                    <div class="d-flex flex-column flex-grow-1">
                                                        <h4 class="mb-1 text-dark" id="user-name">-</h4>
                                                        <span class="text-muted fw-semibold" id="user-number">-</span>
                                                    </div>
                                                    <button id="btn-logout" class="btn btn-sm btn-light-danger">Logout</button>
                                                </div>
                                                
                                            </div>
                                        </div>
                                    </div>
                                    <!--end::Col-->
                                    
                                </div>
                                <!--end::Row 1-->
                                
                                <!--begin::Row 2 - Send Message & Activity Log-->
                                <div class="row g-5 g-xl-10 mb-5 mb-xl-10">
                                    
                                    <!--begin::Col - Send Message-->
                                    <div class="col-xl-6">
                                        <div class="card card-flush h-xl-100">
                                            <div class="card-header pt-7">
                                                <h3 class="card-title align-items-start flex-column">
                                                    <span class="card-label fw-bold text-dark">ðŸ’¬ Send Message</span>
                                                    <span class="text-muted mt-1 fw-semibold fs-7">Send WhatsApp messages from any session</span>
                                                </h3>
                                            </div>
                                            <div class="card-body pt-6">
                                                
                                                <div class="mb-10">
                                                    <label class="form-label fw-semibold">Select Session to Send From</label>
                                                    <select id="send-session-selector" class="form-select form-select-solid" disabled>
                                                        <option value="">No connected sessions</option>
                                                    </select>
                                                </div>
                                                
                                                <div class="mb-10">
                                                    <label class="form-label fw-semibold">Recipient Phone Number</label>
                                                    <input type="text" id="recipient-phone" class="form-control form-control-solid" placeholder="e.g., 628123456789" autocomplete="off" />
                                                    <div class="form-text">Include country code without + or @s.whatsapp.net</div>
                                                </div>
                                                
                                                <div class="mb-10">
                                                    <label class="form-label fw-semibold">Message</label>
                                                    <textarea id="message-text" class="form-control form-control-solid" rows="5" placeholder="Type your message here..."></textarea>
                                                </div>
                                                
                                                <button id="btn-send" class="btn btn-success w-100" disabled>
                                                    <span class="svg-icon svg-icon-2"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M15.43 8.56949L10.744 15.1395C10.6422 15.282 10.5804 15.4492 10.5651 15.6236C10.5498 15.7981 10.5815 15.9734 10.657 16.1315L13.194 21.4425C13.2737 21.6097 13.3991 21.751 13.5557 21.8499C13.7123 21.9488 13.8938 22.0014 14.079 22.0015H14.117C14.3087 21.9941 14.4941 21.9307 14.6502 21.8191C14.8062 21.7075 14.9261 21.5526 14.995 21.3735L21.933 3.33649C22.0011 3.15918 22.0164 2.96594 21.977 2.78013C21.9376 2.59432 21.8452 2.4239 21.711 2.28949L15.43 8.56949Z" fill="currentColor"/><path opacity="0.3" d="M20.664 2.06648L2.62602 9.00148C2.44768 9.07085 2.29348 9.19082 2.1824 9.34663C2.07131 9.50244 2.00818 9.68731 2.00074 9.87853C1.99331 10.0697 2.04189 10.259 2.14054 10.4229C2.23919 10.5869 2.38359 10.7185 2.55601 10.8015L7.86601 13.3365C8.02383 13.4126 8.19925 13.4448 8.37382 13.4297C8.54839 13.4145 8.71565 13.3526 8.85801 13.2505L15.43 8.56548L21.711 2.28448C21.5762 2.15096 21.4055 2.05932 21.2198 2.02064C21.034 1.98196 20.8409 1.99788 20.664 2.06648Z" fill="currentColor"/></svg></span>
                                                    Send Message
                                                </button>
                                                
                                                <div id="message-status" class="alert mt-5" style="display:none;"></div>
                                                
                                            </div>
                                        </div>
                                    </div>
                                    <!--end::Col-->
                                    
                                    <!--begin::Col - Activity Log-->
                                    <div class="col-xl-6">
                                        <div class="card card-flush h-xl-100">
                                            <div class="card-header pt-7">
                                                <h3 class="card-title align-items-start flex-column">
                                                    <span class="card-label fw-bold text-dark">ðŸ“‹ Activity Log</span>
                                                    <span class="text-muted mt-1 fw-semibold fs-7">Real-time activity monitoring</span>
                                                </h3>
                                            </div>
                                            <div class="card-body pt-6">
                                                <div id="activity-log" class="activity-log">
                                                    <div class="timeline">
                                                        <div class="timeline-item">
                                                            <div class="timeline-line w-40px"></div>
                                                            <div class="timeline-icon symbol symbol-circle symbol-40px">
                                                                <div class="symbol-label bg-light">
                                                                    <span class="svg-icon svg-icon-2 svg-icon-gray-500"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path opacity="0.3" d="M22 12C22 17.5 17.5 22 12 22C6.5 22 2 17.5 2 12C2 6.5 6.5 2 12 2C17.5 2 22 6.5 22 12ZM12 7C10.3 7 9 8.3 9 10C9 11.7 10.3 13 12 13C13.7 13 15 11.7 15 10C15 8.3 13.7 7 12 7Z" fill="currentColor"/><path d="M12 22C14.6 22 17 21 18.7 19.4C17.9 16.9 15.2 15 12 15C8.8 15 6.09999 16.9 5.29999 19.4C6.99999 21 9.4 22 12 22Z" fill="currentColor"/></svg></span>
                                                                </div>
                                                            </div>
                                                            <div class="timeline-content mb-10 mt-n1">
                                                                <div class="pe-3 mb-5">
                                                                    <div class="fs-5 fw-semibold mb-2">Waiting for connection...</div>
                                                                    <div class="d-flex align-items-center mt-1 fs-6">
                                                                        <div class="text-muted me-2 fs-7">--:--:--</div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--end::Col-->
                                    
                                </div>
                                <!--end::Row 2-->
                                
                            </div>
                            <!--end::Content container-->
                        </div>
                        <!--end::Content-->
                        
                    </div>
                    <!--end::Content wrapper-->
                    
                    <!-- Footer Component akan dimuat di sini -->
                    <div id="footer-container"></div>
                    
                </div>
                <!--end::Main-->
                
            </div>
            <!--end::Wrapper-->
            
        </div>
        <!--end::Page-->
    </div>
    <!--end::App-->
    
    <!-- Metronic 8 Global Javascript Bundle -->
    <script src="assets/plugins/global/plugins.bundle.js"></script>
    <script src="assets/js/scripts.bundle.js"></script>
    
    <!-- Socket.IO -->
    <script src="/socket.io/socket.io.js"></script>
    
    <!-- QR Code Library -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    
    <!-- WhatsApp App Logic -->
    <script src="app.js"></script>
    
    <script>
        // Initialize Metronic components after DOM loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize tooltips
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
            tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl)
            });
            
            console.log('âœ… Metronic 8 Dashboard initialized');
        });
    </script>
    
</body>
</html>
